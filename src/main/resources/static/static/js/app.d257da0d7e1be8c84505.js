webpackJsonp([1],{NHnr:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a("7+uW"),s={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("router-view")],1)},staticRenderFns:[]};var o=a("VU/8")({name:"App"},s,!1,function(t){a("gsu9")},null,null).exports,n=a("/ocq"),r={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"weatherContainer"},[a("div",{staticClass:"weatherDropdownContainer"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.citySelected,expression:"citySelected"}],staticClass:"weatherDropdown",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.citySelected=e.target.multiple?a:a[0]}}},t._l(t.cityPool,function(e){return a("option",{staticClass:"weatherOption",domProps:{value:e.id}},[t._v(t._s(e.name))])}),0)]),t._v(" "),a("div",{staticClass:"weatherBtnContainer"},[a("input",{attrs:{id:"selecBtn",type:"button",value:"查询"},on:{click:function(e){return t.selectFn(e)}}})]),t._v(" "),t.shouldShowWeatherInfo?a("div",{staticClass:"weatherInfoContainer"},[a("div",[a("span",{staticClass:"weatherInfoLeft"},[t._v("城市:")]),a("span",{staticClass:"weatherInfoRight"},[t._v(t._s(t.weatherData.city))])]),t._v(" "),a("div",[a("span",{staticClass:"weatherInfoLeft"},[t._v("天气:")]),a("span",{staticClass:"weatherInfoRight"},[t._v(t._s(t.weatherData.weather))])]),t._v(" "),a("div",[a("span",{staticClass:"weatherInfoLeft"},[t._v("温度:")]),a("span",{staticClass:"weatherInfoRight"},[t._v(t._s(t.weatherData.temperature))])]),t._v(" "),a("div",[a("span",{staticClass:"weatherInfoLeft"},[t._v("风向:")]),a("span",{staticClass:"weatherInfoRight"},[t._v(t._s(t.weatherData.wind))])]),t._v(" "),a("div",[a("span",{staticClass:"weatherInfoLeft"},[t._v("更新时间:")]),a("span",{staticClass:"weatherInfoRight"},[t._v(t._s(t.weatherData.updateTime))])])]):t._e(),t._v(" "),t.shouldShowErrorMsg?a("div",{staticClass:"weatherErrorContainer"},[t._v(t._s(t.errorMsg))]):t._e()])},staticRenderFns:[]};var l=a("VU/8")({name:"HelloWorld",data:function(){return{cityPool:[{id:0,name:"请选择"}],citySelected:"",weatherData:"",errorMsg:"",shouldShowWeatherInfo:!1,shouldShowErrorMsg:!1}},created:function(){var t=this;this.citySelected=this.cityPool[0].id,this.resetPageVisibility(),this.$axios({method:"get",url:"/api/cities"}).then(function(e){"888"===e.data.code?(t.cityPool=t.cityPool.concat(e.data.data.cityModel),t.updatePageVisibility(!1,"")):t.updatePageVisibility(!0,"系统错误，请稍后再试")}).catch(function(e){t.updatePageVisibility(!0,"获取城市列表失败，请尝试刷新页面")})},methods:{selectFn:function(t){var e=this;0!=this.citySelected&&(this.resetPageVisibility(),this.$axios({method:"get",url:"/api/weather/"+this.citySelected}).then(function(t){"888"===t.data.code?(e.weatherData=t.data.data,e.updatePageVisibility(!1,"")):e.updatePageVisibility(!0,"系统错误，请稍后再试"),e.shouldShowWeatherInfo=!e.shouldShowErrorMsg}).catch(function(t){-1!=t.toString().indexOf("timeout")?e.updatePageVisibility(!0,"获取天气超时，请稍后再试"):e.updatePageVisibility(!0,"系统错误，请稍后再试"),e.shouldShowWeatherInfo=!e.shouldShowErrorMsg}))},resetPageVisibility:function(){this.shouldShowWeatherInfo=!1,this.shouldShowErrorMsg=!1},updatePageVisibility:function(t,e){t&&(this.errorMsg=e),this.shouldShowErrorMsg=t}}},r,!1,function(t){a("avz7")},"data-v-2f68e522",null).exports;i.a.use(n.a);var c=new n.a({routes:[{path:"/",name:"HelloWorld",component:l}]}),h=a("mtWM"),d=a.n(h),u=a("mw3O"),p=a.n(u);i.a.prototype.qs=p.a,i.a.prototype.$axios=d.a,i.a.config.productionTip=!1,d.a.defaults.timeout=2e4,new i.a({el:"#app",router:c,components:{App:o},template:"<App/>"})},avz7:function(t,e){},gsu9:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.d257da0d7e1be8c84505.js.map